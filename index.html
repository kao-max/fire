<html lang="zh-TW"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjExYjc0YTUyNzgwMDk5ZjEzNDY0MmNlZWM3ZGE4MjNkMTc4MDc2ZjIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzA3MDg2MDI2MzcwNDQ0NjQ2MiIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjXzUxNGFhY2FlYmNhMzFlMTRfaW5kZXguaHRtbC00NzAifSwiZXhwIjoxNzY0NzY2OTM4LCJpYXQiOjE3NjQ3NjMzMzgsImFsZyI6IlJTMjU2In0.GropRtk4XMMfMQGynb8Aa3012iM3e77etLDOJKUkhJK65tNgcnb-GpmDQrXXLREG9KZx1TXPnYtk7ma5WF1clRCwBn_7bv0kTMS5EHYPFGVocgPuQS9QffFMIaUYyUjp17Xz3rPWqxeY0-UGzeppzNN3oJkhGbifLzzn5h8okFRaIft5Ru3CjQN7I0OQgSvVigmAS_G1em5CO0PodnAm2rR43D3zUg2Z4ykd5qs_PPD5-cXlHHYjQE4cmxTkG_85RWBgx-qM66zLTKQuLOVQFRRLwBhsOqoihH_aPphX-c7ToTp1A7PU6PJPYe1djSO9-HPjZ0u2_FyQMw4CFO4iCQ","c_514aacaebca31e14_index.html-470")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分潤選品決策計算機</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom, 20px); }
        /* Custom scrollbar for history list */
        .history-scroll::-webkit-scrollbar { width: 6px; }
        .history-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
        .history-scroll::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
        
        /* Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.2s ease-out; }
        .animate-scale-in { animation: scaleIn 0.2s ease-out; }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.relative{position:relative}.bottom-0{bottom:0px}.left-0{left:0px}.right-0{right:0px}.left-1\/2{left:50%}.top-6{top:1.5rem}.z-50{z-index:50}.z-\[70\]{z-index:70}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mr-2{margin-right:0.5rem}.mt-4{margin-top:1rem}.line-clamp-1{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-4{height:1rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-8{height:2rem}.h-3{height:0.75rem}.min-h-screen{min-height:100vh}.w-4{width:1rem}.w-5{width:1.25rem}.w-8{width:2rem}.w-full{width:100%}.w-12{width:3rem}.w-3{width:0.75rem}.min-w-0{min-width:0px}.max-w-2xl{max-width:42rem}.flex-1{flex:1 1 0%}.flex-none{flex:none}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.rounded{border-radius:0.25rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity:1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-1{padding:0.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.text-left{text-align:left}.text-right{text-align:right}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.uppercase{text-transform:uppercase}.tracking-wider{letter-spacing:0.05em}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.ring-1{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.ring-blue-500{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.last\:border-0:last-child{border-width:0px}.hover\:bg-blue-50:hover{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-red-50:hover{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\:text-blue-600:hover{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:text-red-600:hover{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width: 640px){.sm\:inline{display:inline}}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect;

// --- Icons Components (SVG) ---
var IconCalculator = function IconCalculator(_ref) {
  var className = _ref.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("rect", {
    width: "16",
    height: "20",
    x: "4",
    y: "2",
    rx: "2"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "8",
    x2: "16",
    y1: "6",
    y2: "6"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16",
    x2: "16",
    y1: "14",
    y2: "18"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M16 10h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 10h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 10h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 14h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 14h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 18h.01"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 18h.01"
  }));
};
var IconCopy = function IconCopy(_ref2) {
  var className = _ref2.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("rect", {
    width: "14",
    height: "14",
    x: "8",
    y: "8",
    rx: "2",
    ry: "2"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"
  }));
};
var IconRotateCcw = function IconRotateCcw(_ref3) {
  var className = _ref3.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M3 3v5h5"
  }));
};
var IconCheckCircle2 = function IconCheckCircle2(_ref4) {
  var className = _ref4.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "12",
    r: "10"
  }), /*#__PURE__*/React.createElement("path", {
    d: "m9 12 2 2 4-4"
  }));
};
var IconAward = function IconAward(_ref5) {
  var className = _ref5.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "8",
    r: "7"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "8.21 13.89 7 23 12 20 17 23 15.79 13.88"
  }));
};
var IconAlertCircle = function IconAlertCircle(_ref6) {
  var className = _ref6.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "12",
    r: "10"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16"
  }));
};
var IconDownload = function IconDownload(_ref7) {
  var className = _ref7.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "7 10 12 15 17 10"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    x2: "12",
    y1: "15",
    y2: "3"
  }));
};
var IconSave = function IconSave(_ref8) {
  var className = _ref8.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "17 21 17 13 7 13 7 21"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "7 3 7 8 15 8"
  }));
};
var IconTrash = function IconTrash(_ref9) {
  var className = _ref9.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M3 6h18"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"
  }));
};
var IconList = function IconList(_ref0) {
  var className = _ref0.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("line", {
    x1: "8",
    x2: "21",
    y1: "6",
    y2: "6"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "8",
    x2: "21",
    y1: "12",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "8",
    x2: "21",
    y1: "18",
    y2: "18"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "3",
    x2: "3.01",
    y1: "6",
    y2: "6"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "3",
    x2: "3.01",
    y1: "12",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "3",
    x2: "3.01",
    y1: "18",
    y2: "18"
  }));
};
var IconLink = function IconLink(_ref1) {
  var className = _ref1.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
  }));
};
var IconExternalLink = function IconExternalLink(_ref10) {
  var className = _ref10.className;
  return /*#__PURE__*/React.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, /*#__PURE__*/React.createElement("path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "15 3 21 3 21 9"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "10",
    x2: "21",
    y1: "14",
    y2: "3"
  }));
};

// --- Custom Modal Component (Replaces window.confirm) ---
var Modal = function Modal(_ref11) {
  var isOpen = _ref11.isOpen,
    onClose = _ref11.onClose,
    onConfirm = _ref11.onConfirm,
    title = _ref11.title,
    message = _ref11.message;
  if (!isOpen) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-2xl shadow-xl w-full max-w-sm p-6 animate-scale-in"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-bold text-gray-900 mb-2"
  }, title), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-600 mb-6"
  }, message), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-end gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-xl transition font-medium"
  }, "\u53D6\u6D88"), /*#__PURE__*/React.createElement("button", {
    onClick: onConfirm,
    className: "px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl transition font-bold"
  }, "\u78BA\u5B9A"))));
};

// --- Toast Component (Replaces window.alert) ---
var Toast = function Toast(_ref12) {
  var show = _ref12.show,
    message = _ref12.message,
    _ref12$type = _ref12.type,
    type = _ref12$type === void 0 ? 'success' : _ref12$type;
  if (!show) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed top-6 left-1/2 transform -translate-x-1/2 z-[70] animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "px-6 py-3 rounded-full shadow-lg flex items-center gap-2 text-white font-medium ".concat(type === 'error' ? 'bg-red-500' : 'bg-gray-800')
  }, type === 'error' ? /*#__PURE__*/React.createElement(IconAlertCircle, {
    className: "w-5 h-5"
  }) : /*#__PURE__*/React.createElement(IconCheckCircle2, {
    className: "w-5 h-5"
  }), message));
};

// --- Main Component ---
var AffiliateScoreCalculator = function AffiliateScoreCalculator() {
  var criteriaConfig = [{
    category: "💰 獲利與成本 (40%)",
    color: "text-blue-600",
    bg: "bg-blue-50",
    items: [{
      id: "commission",
      label: "分潤率(只看商家的)",
      weight: 0.20,
      description: "該商品的推廣佣金比例",
      options: [{
        value: 10,
        label: "極高 (>20%)"
      }, {
        value: 7,
        label: "高 (10-19%)"
      }, {
        value: 5,
        label: "一般 (5-9%)"
      }, {
        value: 2,
        label: "低 (<4%)"
      }]
    }, {
      id: "price",
      label: "售價 (客單價)",
      weight: 0.10,
      description: "商品單價是否容易推廣且有獲利空間",
      options: [{
        value: 10,
        label: "甜蜜點 ($400-$1000)"
      }, {
        value: 7,
        label: "高單價 (>$1001)"
      }, {
        value: 3,
        label: "低單價 (<$399)"
      }]
    }, {
      id: "shipping",
      label: "運費門檻",
      weight: 0.10,
      description: "運費是否會阻礙下單",
      options: [{
        value: 10,
        label: "全館免運 / 極低門檻"
      }, {
        value: 5,
        label: "滿額免運 (正常門檻)"
      }, {
        value: 0,
        label: "運費高 / 無免運"
      }]
    }]
  }, {
    category: "🔥 市場潛力 (40%)",
    color: "text-orange-600",
    bg: "bg-orange-50",
    items: [{
      id: "feature",
      label: "產品特色",
      weight: 0.15,
      description: "是否有賣點、痛點解決能力",
      options: [{
        value: 10,
        label: "獨家 / 痛點強 / 新奇特"
      }, {
        value: 5,
        label: "微創新 / 常見商品"
      }, {
        value: 1,
        label: "大眾普貨 (紅海)"
      }]
    }, {
      id: "competitor",
      label: "競品數量",
      weight: 0.10,
      description: "市場競爭激烈程度",
      options: [{
        value: 10,
        label: "藍海 (同品類競品 <5 個、且無明顯頭部賣家)"
      }, {
        value: 6,
        label: "一般 (有競品但不多)"
      }, {
        value: 2,
        label: "紅海 (同品類搜尋結果幾百件、前幾名已經有大量銷量)"
      }]
    }, {
      id: "conversion",
      label: "預估轉換率",
      weight: 0.10,
      description: "從看到內容到下單大概需要多久猶豫期，越短代表越容易賣。",
      options: [{
        value: 10,
        label: "高 (剛需/衝動型/食品)"
      }, {
        value: 5,
        label: "中 (衣物/3C配件)"
      }, {
        value: 2,
        label: "低 (決策期長/高價家電)"
      }]
    }, {
      id: "season",
      label: "季節性",
      weight: 0.05,
      description: "現在是否適合推廣",
      options: [{
        value: 10,
        label: "四季皆宜 (長尾)"
      }, {
        value: 8,
        label: "當季熱銷 (爆發力強)"
      }, {
        value: 2,
        label: "非當季 (難賣)"
      }]
    }]
  }, {
    category: "🛡️ 信賴與驗證 (20%)",
    color: "text-green-600",
    bg: "bg-green-50",
    items: [{
      id: "sales",
      label: "累積銷量",
      weight: 0.10,
      description: "市場是否已驗證該商品",
      options: [{
        value: 10,
        label: "月銷量>500 (有市場需求)"
      }, {
        value: 5,
        label: "月銷量499-50 (剛起步)"
      }, {
        value: 1,
        label: "月銷量0-49 (風險高)"
      }]
    }, {
      id: "rating",
      label: "評價內容",
      weight: 0.05,
      description: "買家反饋優劣",
      options: [{
        value: 10,
        label: "1000+評價4.8星+"
      }, {
        value: 5,
        label: "100+評價4.0-4.7星"
      }, {
        value: 0,
        label: "低於4星 / 有負評"
      }]
    }, {
      id: "brand",
      label: "商家信譽",
      weight: 0.05,
      description: "賣家是否可靠",
      options: [{
        value: 10,
        label: "知名品牌 / 官方優選"
      }, {
        value: 5,
        label: "一般經營賣家"
      }, {
        value: 0,
        label: "新帳號 / 評分低"
      }]
    }]
  }];
  var _useState = useState(""),
    _useState2 = _slicedToArray(_useState, 2),
    productName = _useState2[0],
    setProductName = _useState2[1];
  var _useState3 = useState(""),
    _useState4 = _slicedToArray(_useState3, 2),
    productUrl = _useState4[0],
    setProductUrl = _useState4[1];
  var _useState5 = useState({}),
    _useState6 = _slicedToArray(_useState5, 2),
    scores = _useState6[0],
    setScores = _useState6[1];
  var _useState7 = useState(0),
    _useState8 = _slicedToArray(_useState7, 2),
    totalScore = _useState8[0],
    setTotalScore = _useState8[1];
  var _useState9 = useState({
      level: "C",
      color: "text-gray-500",
      text: "放棄 (觀察區)"
    }),
    _useState0 = _slicedToArray(_useState9, 2),
    grade = _useState0[0],
    setGrade = _useState0[1];

  // Toast State
  var _useState1 = useState({
      show: false,
      message: '',
      type: 'success'
    }),
    _useState10 = _slicedToArray(_useState1, 2),
    toast = _useState10[0],
    setToast = _useState10[1];
  // Modal State
  var _useState11 = useState({
      isOpen: false,
      type: null,
      id: null
    }),
    _useState12 = _slicedToArray(_useState11, 2),
    modalState = _useState12[0],
    setModalState = _useState12[1];

  // History State
  var _useState13 = useState([]),
    _useState14 = _slicedToArray(_useState13, 2),
    history = _useState14[0],
    setHistory = _useState14[1];

  // Helper for Toast
  var showToast = function showToast(message) {
    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';
    setToast({
      show: true,
      message: message,
      type: type
    });
    setTimeout(function () {
      return setToast(_objectSpread(_objectSpread({}, toast), {}, {
        show: false
      }));
    }, 2000);
  };

  // Load History from LocalStorage
  useEffect(function () {
    var savedHistory = localStorage.getItem('affiliate_product_history');
    if (savedHistory) {
      try {
        setHistory(JSON.parse(savedHistory));
      } catch (e) {
        console.error("Failed to load history", e);
      }
    }
  }, []);

  // Save History to LocalStorage when updated
  useEffect(function () {
    localStorage.setItem('affiliate_product_history', JSON.stringify(history));
  }, [history]);
  useEffect(function () {
    var sum = 0;
    criteriaConfig.forEach(function (cat) {
      cat.items.forEach(function (item) {
        var itemScore = scores[item.id] || 0;
        sum += itemScore * item.weight;
      });
    });
    var finalScore = Math.round(sum * 10);
    setTotalScore(finalScore);
    if (finalScore >= 80) setGrade({
      level: "S",
      color: "text-purple-600",
      bg: "bg-purple-100",
      text: "必選商品 (S級)"
    });else if (finalScore >= 65) setGrade({
      level: "A",
      color: "text-green-600",
      bg: "bg-green-100",
      text: "可嘗試 (A級)"
    });else if (finalScore >= 50) setGrade({
      level: "B",
      color: "text-yellow-600",
      bg: "bg-yellow-100",
      text: "觀察區 (B級)"
    });else setGrade({
      level: "C",
      color: "text-red-500",
      bg: "bg-red-100",
      text: "建議放棄 (C級)"
    });
  }, [scores]);
  var handleScoreChange = function handleScoreChange(id, value) {
    setScores(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, id, parseInt(value)));
    });
  };

  // --- Confirm Action Handlers ---
  var triggerConfirm = function triggerConfirm(type) {
    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    setModalState({
      isOpen: true,
      type: type,
      id: id
    });
  };
  var handleConfirmAction = function handleConfirmAction() {
    var type = modalState.type,
      id = modalState.id;
    if (type === 'DELETE_ITEM') {
      setHistory(function (prev) {
        return prev.filter(function (item) {
          return item.id !== id;
        });
      });
      showToast("已刪除紀錄");
    } else if (type === 'CLEAR_HISTORY') {
      setHistory([]);
      showToast("已清空歷史紀錄");
    } else if (type === 'RESET_FORM') {
      setScores({});
      setProductName("");
      setProductUrl("");
      showToast("已重置表單");
    }
    setModalState({
      isOpen: false,
      type: null,
      id: null
    });
  };
  var handleReset = function handleReset() {
    // 如果表單是空的，不需要確認
    if (Object.keys(scores).length === 0 && !productName && !productUrl) return;
    triggerConfirm('RESET_FORM');
  };
  var saveToHistory = function saveToHistory() {
    if (totalScore === 0) {
      showToast("尚未評分，無法儲存", "error");
      return;
    }
    var newItem = {
      id: Date.now(),
      name: productName || "未命名商品",
      url: productUrl,
      score: totalScore,
      level: grade.level,
      color: grade.color,
      bg: grade.bg,
      date: new Date().toLocaleDateString()
    };

    // Add to list and sort by score descending
    var newHistory = [].concat(_toConsumableArray(history), [newItem]).sort(function (a, b) {
      return b.score - a.score;
    });
    setHistory(newHistory);
    showToast("已加入清單");

    // Scroll to history
    setTimeout(function () {
      document.getElementById('history-section').scrollIntoView({
        behavior: 'smooth'
      });
    }, 100);
  };
  var deleteHistoryItem = function deleteHistoryItem(id) {
    return triggerConfirm('DELETE_ITEM', id);
  };
  var clearHistory = function clearHistory() {
    return triggerConfirm('CLEAR_HISTORY');
  };
  var handleDownload = function handleDownload() {
    var htmlContent = document.documentElement.outerHTML;
    var blob = new Blob([htmlContent], {
      type: 'text/html'
    });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = '分潤選品計算機.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  };
  var copyResult = function copyResult() {
    var text = "\uD83D\uDCCA \u9078\u54C1\u8A55\u4F30\u5831\u544A\n\n\uD83D\uDCE6 \u5546\u54C1\uFF1A".concat(productName || "未命名商品", "\n");
    if (productUrl) text += "\uD83D\uDD17 \u9023\u7D50\uFF1A".concat(productUrl, "\n");
    text += "\uD83C\uDFC6 \u7E3D\u5206\uFF1A".concat(totalScore, " \u5206 [").concat(grade.level, "\u7D1A]\n\uD83D\uDCA1 \u8A55\u50F9\uFF1A").concat(grade.text, "\n\n\u8A73\u7D30\u5F97\u5206\uFF1A\n").concat(criteriaConfig.map(function (cat) {
      return "[".concat(cat.category.split(' ')[1], "] ") + cat.items.map(function (item) {
        return "".concat(item.label, ": ").concat(scores[item.id] || 0);
      }).join(', ');
    }).join('\n'), "\n\n#\u5206\u6F64\u9078\u54C1");
    try {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(function () {
          showToast("已複製結果");
        })["catch"](function (err) {
          console.error('Clipboard failed', err);
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    } catch (e) {
      console.error('Copy failed', e);
      showToast("複製失敗，請手動截圖", "error");
    }
  };
  var fallbackCopy = function fallbackCopy(text) {
    var textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      document.execCommand('copy');
      showToast("已複製結果");
    } catch (err) {
      showToast("瀏覽器不支援自動複製", "error");
    }
    document.body.removeChild(textArea);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "max-w-2xl mx-auto p-4 min-h-screen font-sans"
  }, /*#__PURE__*/React.createElement(Toast, {
    show: toast.show,
    message: toast.message,
    type: toast.type
  }), /*#__PURE__*/React.createElement(Modal, {
    isOpen: modalState.isOpen,
    onClose: function onClose() {
      return setModalState(_objectSpread(_objectSpread({}, modalState), {}, {
        isOpen: false
      }));
    },
    onConfirm: handleConfirmAction,
    title: "\u78BA\u8A8D\u64CD\u4F5C",
    message: modalState.type === 'DELETE_ITEM' ? "確定要刪除這筆紀錄嗎？" : modalState.type === 'CLEAR_HISTORY' ? "確定要清空所有歷史紀錄嗎？" : "確定要清空當前表單選項嗎？(歷史紀錄不會刪除)"
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-2xl shadow-sm mb-6 border border-gray-100"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-start mb-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement(IconCalculator, {
    className: "w-8 h-8 text-blue-600"
  }), /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl font-bold text-gray-800"
  }, "\u9078\u54C1\u6C7A\u7B56\u8A08\u7B97\u6A5F")), /*#__PURE__*/React.createElement("button", {
    onClick: handleDownload,
    className: "flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-gray-200",
    title: "\u4E0B\u8F09\u96E2\u7DDA\u7248 HTML"
  }, /*#__PURE__*/React.createElement(IconDownload, {
    className: "w-4 h-4"
  }), /*#__PURE__*/React.createElement("span", null, "\u4E0B\u8F09 App"))), /*#__PURE__*/React.createElement("p", {
    className: "text-gray-500 text-sm"
  }, "\u8F38\u5165\u5404\u9805\u6307\u6A19\uFF0C\u81EA\u52D5\u8A08\u7B97\u63A8\u5EE3\u50F9\u503C (ROI)\u3002"), /*#__PURE__*/React.createElement("div", {
    className: "mt-4 space-y-3"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-1"
  }, "\u5546\u54C1\u540D\u7A31 (\u9078\u586B)"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u4F8B\u5982\uFF1A\u7121\u7DDA\u85CD\u7259\u8033\u6A5F Pro 2",
    value: productName,
    onChange: function onChange(e) {
      return setProductName(e.target.value);
    },
    className: "w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1"
  }, /*#__PURE__*/React.createElement(IconLink, {
    className: "w-4 h-4 text-gray-500"
  }), "\u5546\u54C1\u9023\u7D50 (\u9078\u586B)"), /*#__PURE__*/React.createElement("input", {
    type: "url",
    placeholder: "https://...",
    value: productUrl,
    onChange: function onChange(e) {
      return setProductUrl(e.target.value);
    },
    className: "w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-blue-600"
  })))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-6 mb-6"
  }, criteriaConfig.map(function (category, idx) {
    return /*#__PURE__*/React.createElement("div", {
      key: idx,
      className: "bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100"
    }, /*#__PURE__*/React.createElement("div", {
      className: "p-4 ".concat(category.bg, " border-b border-gray-100 flex items-center justify-between")
    }, /*#__PURE__*/React.createElement("h2", {
      className: "font-bold ".concat(category.color, " flex items-center gap-2")
    }, category.category)), /*#__PURE__*/React.createElement("div", {
      className: "p-4 space-y-6"
    }, category.items.map(function (item) {
      return /*#__PURE__*/React.createElement("div", {
        key: item.id,
        className: "space-y-2"
      }, /*#__PURE__*/React.createElement("div", {
        className: "flex justify-between items-center"
      }, /*#__PURE__*/React.createElement("label", {
        className: "font-medium text-gray-700 text-base"
      }, item.label), /*#__PURE__*/React.createElement("span", {
        className: "text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full"
      }, "\u6B0A\u91CD ", Math.round(item.weight * 100), "%")), /*#__PURE__*/React.createElement("p", {
        className: "text-xs text-gray-500 mb-2"
      }, item.description), /*#__PURE__*/React.createElement("div", {
        className: "grid grid-cols-1 gap-2"
      }, item.options.map(function (opt) {
        return /*#__PURE__*/React.createElement("button", {
          key: opt.value,
          onClick: function onClick() {
            return handleScoreChange(item.id, opt.value);
          },
          className: "relative p-3 rounded-lg text-left text-sm transition-all border ".concat(scores[item.id] === opt.value ? 'border-blue-500 bg-blue-50 text-blue-700 font-medium ring-1 ring-blue-500' : 'border-gray-200 hover:bg-gray-50 text-gray-600')
        }, /*#__PURE__*/React.createElement("div", {
          className: "flex justify-between w-full items-center"
        }, /*#__PURE__*/React.createElement("span", null, opt.label), scores[item.id] === opt.value && /*#__PURE__*/React.createElement(IconCheckCircle2, {
          className: "w-4 h-4 text-blue-600"
        })));
      })));
    })));
  })), history.length > 0 && /*#__PURE__*/React.createElement("div", {
    id: "history-section",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-4 bg-gray-50 border-b border-gray-100 flex items-center justify-between"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "font-bold text-gray-700 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement(IconList, {
    className: "w-5 h-5"
  }), "\u9078\u54C1\u66AB\u5B58\u6E05\u55AE (", history.length, ")"), /*#__PURE__*/React.createElement("button", {
    onClick: clearHistory,
    className: "text-xs text-red-500 hover:text-red-600 hover:bg-red-50 px-2 py-1 rounded transition"
  }, "\u6E05\u7A7A")), /*#__PURE__*/React.createElement("div", {
    className: "history-list-container"
  }, history.map(function (item, index) {
    return /*#__PURE__*/React.createElement("div", {
      key: item.id,
      className: "p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 flex items-center justify-between group"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center gap-3 overflow-hidden"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(item.bg, " ").concat(item.color)
    }, index + 1), /*#__PURE__*/React.createElement("div", {
      className: "min-w-0"
    }, /*#__PURE__*/React.createElement("div", {
      className: "font-medium text-gray-800 line-clamp-1"
    }, item.url ? /*#__PURE__*/React.createElement("a", {
      href: item.url,
      target: "_blank",
      rel: "noopener noreferrer",
      className: "hover:text-blue-600 hover:underline flex items-center gap-1"
    }, /*#__PURE__*/React.createElement("span", {
      className: "truncate"
    }, item.name), /*#__PURE__*/React.createElement(IconExternalLink, {
      className: "w-3 h-3 flex-shrink-0 text-gray-400"
    })) : item.name), /*#__PURE__*/React.createElement("div", {
      className: "text-xs text-gray-400"
    }, item.date))), /*#__PURE__*/React.createElement("div", {
      className: "flex items-center gap-3 flex-shrink-0"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-lg font-bold ".concat(item.color, " w-12 text-right")
    }, item.score), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return deleteHistoryItem(item.id);
      },
      className: "text-gray-300 hover:text-red-500 p-1"
    }, /*#__PURE__*/React.createElement(IconTrash, {
      className: "w-4 h-4"
    }))));
  }))), /*#__PURE__*/React.createElement("div", {
    className: "h-48 w-full"
  }), /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-50 safe-area-bottom"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-2xl mx-auto flex flex-col gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center justify-between"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline gap-2"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-xs text-gray-500 uppercase tracking-wider"
  }, "\u7E3D\u8A55\u5206"), /*#__PURE__*/React.createElement("span", {
    className: "text-3xl font-bold ".concat(grade.color)
  }, totalScore), /*#__PURE__*/React.createElement("span", {
    className: "text-sm text-gray-400"
  }, "/ 100")), /*#__PURE__*/React.createElement("div", {
    className: "text-sm font-bold ".concat(grade.color, " flex items-center gap-1")
  }, grade.level === 'S' && /*#__PURE__*/React.createElement(IconAward, {
    className: "w-4 h-4"
  }), grade.level === 'C' && /*#__PURE__*/React.createElement(IconAlertCircle, {
    className: "w-4 h-4"
  }), grade.text)), /*#__PURE__*/React.createElement("button", {
    onClick: saveToHistory,
    className: "flex items-center gap-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors mr-2"
  }, /*#__PURE__*/React.createElement(IconSave, {
    className: "w-5 h-5"
  }), /*#__PURE__*/React.createElement("span", {
    className: "hidden sm:inline"
  }, "\u52A0\u5165\u6E05\u55AE"))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 w-full"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleReset,
    className: "p-3 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors bg-gray-50 border border-gray-200 flex-none",
    title: "\u91CD\u7F6E"
  }, /*#__PURE__*/React.createElement(IconRotateCcw, {
    className: "w-5 h-5"
  })), /*#__PURE__*/React.createElement("button", {
    onClick: copyResult,
    className: "flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold text-white transition-all active:scale-95 shadow-md bg-blue-600 hover:bg-blue-700"
  }, /*#__PURE__*/React.createElement(IconCopy, {
    className: "w-5 h-5"
  }), "\u8907\u88FD\u7D50\u679C")))));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(AffiliateScoreCalculator, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiSWNvbkNhbGN1bGF0b3IiLCJfcmVmIiwiY2xhc3NOYW1lIiwiY3JlYXRlRWxlbWVudCIsInhtbG5zIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwieCIsInkiLCJyeCIsIngxIiwieDIiLCJ5MSIsInkyIiwiZCIsIkljb25Db3B5IiwiX3JlZjIiLCJyeSIsIkljb25Sb3RhdGVDY3ciLCJfcmVmMyIsIkljb25DaGVja0NpcmNsZTIiLCJfcmVmNCIsImN4IiwiY3kiLCJyIiwiSWNvbkF3YXJkIiwiX3JlZjUiLCJwb2ludHMiLCJJY29uQWxlcnRDaXJjbGUiLCJfcmVmNiIsIkljb25Eb3dubG9hZCIsIl9yZWY3IiwiSWNvblNhdmUiLCJfcmVmOCIsIkljb25UcmFzaCIsIl9yZWY5IiwiSWNvbkxpc3QiLCJfcmVmMCIsIkljb25MaW5rIiwiX3JlZjEiLCJJY29uRXh0ZXJuYWxMaW5rIiwiX3JlZjEwIiwiTW9kYWwiLCJfcmVmMTEiLCJpc09wZW4iLCJvbkNsb3NlIiwib25Db25maXJtIiwidGl0bGUiLCJtZXNzYWdlIiwib25DbGljayIsIlRvYXN0IiwiX3JlZjEyIiwic2hvdyIsIl9yZWYxMiR0eXBlIiwidHlwZSIsImNvbmNhdCIsIkFmZmlsaWF0ZVNjb3JlQ2FsY3VsYXRvciIsImNyaXRlcmlhQ29uZmlnIiwiY2F0ZWdvcnkiLCJjb2xvciIsImJnIiwiaXRlbXMiLCJpZCIsImxhYmVsIiwid2VpZ2h0IiwiZGVzY3JpcHRpb24iLCJvcHRpb25zIiwidmFsdWUiLCJfdXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJwcm9kdWN0TmFtZSIsInNldFByb2R1Y3ROYW1lIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJwcm9kdWN0VXJsIiwic2V0UHJvZHVjdFVybCIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2Iiwic2NvcmVzIiwic2V0U2NvcmVzIiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJ0b3RhbFNjb3JlIiwic2V0VG90YWxTY29yZSIsIl91c2VTdGF0ZTkiLCJsZXZlbCIsInRleHQiLCJfdXNlU3RhdGUwIiwiZ3JhZGUiLCJzZXRHcmFkZSIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsInRvYXN0Iiwic2V0VG9hc3QiLCJfdXNlU3RhdGUxMSIsIl91c2VTdGF0ZTEyIiwibW9kYWxTdGF0ZSIsInNldE1vZGFsU3RhdGUiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJzaG93VG9hc3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwiX29iamVjdFNwcmVhZCIsInNhdmVkSGlzdG9yeSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImVycm9yIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInN1bSIsImZvckVhY2giLCJjYXQiLCJpdGVtIiwiaXRlbVNjb3JlIiwiZmluYWxTY29yZSIsIk1hdGgiLCJyb3VuZCIsImhhbmRsZVNjb3JlQ2hhbmdlIiwicHJldiIsIl9kZWZpbmVQcm9wZXJ0eSIsInBhcnNlSW50IiwidHJpZ2dlckNvbmZpcm0iLCJoYW5kbGVDb25maXJtQWN0aW9uIiwiZmlsdGVyIiwiaGFuZGxlUmVzZXQiLCJPYmplY3QiLCJrZXlzIiwic2F2ZVRvSGlzdG9yeSIsIm5ld0l0ZW0iLCJEYXRlIiwibm93IiwibmFtZSIsInVybCIsInNjb3JlIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm5ld0hpc3RvcnkiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzb3J0IiwiYSIsImIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImRlbGV0ZUhpc3RvcnlJdGVtIiwiY2xlYXJIaXN0b3J5IiwiaGFuZGxlRG93bmxvYWQiLCJodG1sQ29udGVudCIsImRvY3VtZW50RWxlbWVudCIsIm91dGVySFRNTCIsImJsb2IiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImNvcHlSZXN1bHQiLCJtYXAiLCJzcGxpdCIsImpvaW4iLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0aGVuIiwiZXJyIiwiZmFsbGJhY2tDb3B5IiwidGV4dEFyZWEiLCJzdHlsZSIsInBvc2l0aW9uIiwiZm9jdXMiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJpZHgiLCJrZXkiLCJvcHQiLCJpbmRleCIsInJlbCIsInJvb3QiLCJSZWFjdERPTSIsImNyZWF0ZVJvb3QiLCJyZW5kZXIiXSwic291cmNlcyI6WyJJbmxpbmUgQmFiZWwgc2NyaXB0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSA9IFJlYWN0O1xuXG4gICAgICAgIC8vIC0tLSBJY29ucyBDb21wb25lbnRzIChTVkcpIC0tLVxuICAgICAgICBjb25zdCBJY29uQ2FsY3VsYXRvciA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxyZWN0IHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIyMFwiIHg9XCI0XCIgeT1cIjJcIiByeD1cIjJcIi8+PGxpbmUgeDE9XCI4XCIgeDI9XCIxNlwiIHkxPVwiNlwiIHkyPVwiNlwiLz48bGluZSB4MT1cIjE2XCIgeDI9XCIxNlwiIHkxPVwiMTRcIiB5Mj1cIjE4XCIvPjxwYXRoIGQ9XCJNMTYgMTBoLjAxXCIvPjxwYXRoIGQ9XCJNMTIgMTBoLjAxXCIvPjxwYXRoIGQ9XCJNOCAxMGguMDFcIi8+PHBhdGggZD1cIk0xMiAxNGguMDFcIi8+PHBhdGggZD1cIk04IDE0aC4wMVwiLz48cGF0aCBkPVwiTTEyIDE4aC4wMVwiLz48cGF0aCBkPVwiTTggMThoLjAxXCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uQ29weSA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI4XCIgeT1cIjhcIiByeD1cIjJcIiByeT1cIjJcIi8+PHBhdGggZD1cIk00IDE2Yy0xLjEgMC0yLS45LTItMlY0YzAtMS4xLjktMiAyLTJoMTBjMS4xIDAgMiAuOSAyIDJcIi8+PC9zdmc+XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IEljb25Sb3RhdGVDY3cgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48cGF0aCBkPVwiTTMgMTJhOSA5IDAgMSAwIDktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOFwiLz48cGF0aCBkPVwiTTMgM3Y1aDVcIi8+PC9zdmc+XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IEljb25DaGVja0NpcmNsZTIgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxwYXRoIGQ9XCJtOSAxMiAyIDIgNC00XCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uQXdhcmQgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjhcIiByPVwiN1wiLz48cG9seWxpbmUgcG9pbnRzPVwiOC4yMSAxMy44OSA3IDIzIDEyIDIwIDE3IDIzIDE1Ljc5IDEzLjg4XCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uQWxlcnRDaXJjbGUgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjEyXCIgeTE9XCI4XCIgeTI9XCIxMlwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxMi4wMVwiIHkxPVwiMTZcIiB5Mj1cIjE2XCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uRG93bmxvYWQgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48cGF0aCBkPVwiTTIxIDE1djRhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ2LTRcIi8+PHBvbHlsaW5lIHBvaW50cz1cIjcgMTAgMTIgMTUgMTcgMTBcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjE1XCIgeTI9XCIzXCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uU2F2ZSA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNMTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMWw1IDV2MTFhMiAyIDAgMCAxLTIgMnpcIi8+PHBvbHlsaW5lIHBvaW50cz1cIjE3IDIxIDE3IDEzIDcgMTMgNyAyMVwiLz48cG9seWxpbmUgcG9pbnRzPVwiNyAzIDcgOCAxNSA4XCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uVHJhc2ggPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48cGF0aCBkPVwiTTMgNmgxOFwiLz48cGF0aCBkPVwiTTE5IDZ2MTRjMCAxLTEgMi0yIDJIN2MtMSAwLTItMS0yLTJWNlwiLz48cGF0aCBkPVwiTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MlwiLz48L3N2Zz5cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgSWNvbkxpc3QgPSAoeyBjbGFzc05hbWUgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT48bGluZSB4MT1cIjhcIiB4Mj1cIjIxXCIgeTE9XCI2XCIgeTI9XCI2XCIvPjxsaW5lIHgxPVwiOFwiIHgyPVwiMjFcIiB5MT1cIjEyXCIgeTI9XCIxMlwiLz48bGluZSB4MT1cIjhcIiB4Mj1cIjIxXCIgeTE9XCIxOFwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCIzXCIgeDI9XCIzLjAxXCIgeTE9XCI2XCIgeTI9XCI2XCIvPjxsaW5lIHgxPVwiM1wiIHgyPVwiMy4wMVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIvPjxsaW5lIHgxPVwiM1wiIHgyPVwiMy4wMVwiIHkxPVwiMThcIiB5Mj1cIjE4XCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uTGluayA9ICh7IGNsYXNzTmFtZSB9KSA9PiAoXG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxwYXRoIGQ9XCJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MVwiLz48cGF0aCBkPVwiTTE0IDExYTUgNSAwIDAgMC03LjU0LS41NGwtMyAzYTUgNSAwIDAgMCA3LjA3IDcuMDdsMS43MS0xLjcxXCIvPjwvc3ZnPlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBJY29uRXh0ZXJuYWxMaW5rID0gKHsgY2xhc3NOYW1lIH0pID0+IChcbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PHBhdGggZD1cIk0xOCAxM3Y2YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yVjhhMiAyIDAgMCAxIDItMmg2XCIvPjxwb2x5bGluZSBwb2ludHM9XCIxNSAzIDIxIDMgMjEgOVwiLz48bGluZSB4MT1cIjEwXCIgeDI9XCIyMVwiIHkxPVwiMTRcIiB5Mj1cIjNcIi8+PC9zdmc+XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gLS0tIEN1c3RvbSBNb2RhbCBDb21wb25lbnQgKFJlcGxhY2VzIHdpbmRvdy5jb25maXJtKSAtLS1cbiAgICAgICAgY29uc3QgTW9kYWwgPSAoeyBpc09wZW4sIG9uQ2xvc2UsIG9uQ29uZmlybSwgdGl0bGUsIG1lc3NhZ2UgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bNjBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIGFuaW1hdGUtZmFkZS1pblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy14bCB3LWZ1bGwgbWF4LXctc20gcC02IGFuaW1hdGUtc2NhbGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj57dGl0bGV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNlwiPnttZXNzYWdlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQteGwgdHJhbnNpdGlvbiBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlj5bmtohcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNvbmZpcm19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLXhsIHRyYW5zaXRpb24gZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOeiuuWumlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gVG9hc3QgQ29tcG9uZW50IChSZXBsYWNlcyB3aW5kb3cuYWxlcnQpIC0tLVxuICAgICAgICBjb25zdCBUb2FzdCA9ICh7IHNob3csIG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzaG93KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNiBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB6LVs3MF0gYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcHgtNiBweS0zIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC13aGl0ZSBmb250LW1lZGl1bSAke3R5cGUgPT09ICdlcnJvcicgPyAnYmctcmVkLTUwMCcgOiAnYmctZ3JheS04MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3R5cGUgPT09ICdlcnJvcicgPyA8SWNvbkFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTVcIi8+IDogPEljb25DaGVja0NpcmNsZTIgY2xhc3NOYW1lPVwidy01IGgtNVwiLz59XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBNYWluIENvbXBvbmVudCAtLS1cbiAgICAgICAgY29uc3QgQWZmaWxpYXRlU2NvcmVDYWxjdWxhdG9yID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3JpdGVyaWFDb25maWcgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCLwn5KwIOeNsuWIqeiIh+aIkOacrCAoNDAlKVwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ0ZXh0LWJsdWUtNjAwXCIsXG4gICAgICAgICAgICAgICAgICAgIGJnOiBcImJnLWJsdWUtNTBcIixcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwiY29tbWlzc2lvblwiLCBsYWJlbDogXCLliIbmvaTnjoco5Y+q55yL5ZWG5a6255qEKVwiLCB3ZWlnaHQ6IDAuMjAsIGRlc2NyaXB0aW9uOiBcIuipsuWVhuWTgeeahOaOqOW7o+S9o+mHkeavlOS+i1wiLCBvcHRpb25zOiBbeyB2YWx1ZTogMTAsIGxhYmVsOiBcIualtemrmCAoPjIwJSlcIiB9LCB7IHZhbHVlOiA3LCBsYWJlbDogXCLpq5ggKDEwLTE5JSlcIiB9LCB7IHZhbHVlOiA1LCBsYWJlbDogXCLkuIDoiKwgKDUtOSUpXCIgfSwgeyB2YWx1ZTogMiwgbGFiZWw6IFwi5L2OICg8NCUpXCIgfV0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwicHJpY2VcIiwgbGFiZWw6IFwi5ZSu5YO5ICjlrqLllq7lg7kpXCIsIHdlaWdodDogMC4xMCwgZGVzY3JpcHRpb246IFwi5ZWG5ZOB5Zau5YO55piv5ZCm5a655piT5o6o5buj5LiU5pyJ542y5Yip56m66ZaTXCIsIG9wdGlvbnM6IFt7IHZhbHVlOiAxMCwgbGFiZWw6IFwi55Sc6Jyc6bueICgkNDAwLSQxMDAwKVwiIH0sIHsgdmFsdWU6IDcsIGxhYmVsOiBcIumrmOWWruWDuSAoPiQxMDAxKVwiIH0sIHsgdmFsdWU6IDMsIGxhYmVsOiBcIuS9juWWruWDuSAoPCQzOTkpXCIgfV0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwic2hpcHBpbmdcIiwgbGFiZWw6IFwi6YGL6LK76ZaA5qq7XCIsIHdlaWdodDogMC4xMCwgZGVzY3JpcHRpb246IFwi6YGL6LK75piv5ZCm5pyD6Zi756SZ5LiL5ZauXCIsIG9wdGlvbnM6IFt7IHZhbHVlOiAxMCwgbGFiZWw6IFwi5YWo6aSo5YWN6YGLIC8g5qW15L2O6ZaA5qq7XCIgfSwgeyB2YWx1ZTogNSwgbGFiZWw6IFwi5ru/6aGN5YWN6YGLICjmraPluLjploDmqrspXCIgfSwgeyB2YWx1ZTogMCwgbGFiZWw6IFwi6YGL6LK76auYIC8g54Sh5YWN6YGLXCIgfV0gfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIvCflKUg5biC5aC05r2b5YqbICg0MCUpXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInRleHQtb3JhbmdlLTYwMFwiLFxuICAgICAgICAgICAgICAgICAgICBiZzogXCJiZy1vcmFuZ2UtNTBcIixcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwiZmVhdHVyZVwiLCBsYWJlbDogXCLnlKLlk4HnibnoibJcIiwgd2VpZ2h0OiAwLjE1LCBkZXNjcmlwdGlvbjogXCLmmK/lkKbmnInos6Ppu57jgIHnl5vpu57op6Pmsbrog73liptcIiwgb3B0aW9uczogW3sgdmFsdWU6IDEwLCBsYWJlbDogXCLnjajlrrYgLyDnl5vpu57lvLcgLyDmlrDlpYfniblcIiB9LCB7IHZhbHVlOiA1LCBsYWJlbDogXCLlvq7libXmlrAgLyDluLjopovllYblk4FcIiB9LCB7IHZhbHVlOiAxLCBsYWJlbDogXCLlpKfnnL7mma7osqggKOe0hea1tylcIiB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogXCJjb21wZXRpdG9yXCIsIGxhYmVsOiBcIuertuWTgeaVuOmHj1wiLCB3ZWlnaHQ6IDAuMTAsIGRlc2NyaXB0aW9uOiBcIuW4guWgtOertueIrea/gOeDiOeoi+W6plwiLCBvcHRpb25zOiBbeyB2YWx1ZTogMTAsIGxhYmVsOiBcIuiXjea1tyAo5ZCM5ZOB6aGe56u25ZOBIDw1IOWAi+OAgeS4lOeEoeaYjumhr+mgremDqOizo+WutilcIiB9LCB7IHZhbHVlOiA2LCBsYWJlbDogXCLkuIDoiKwgKOacieertuWTgeS9huS4jeWkmilcIiB9LCB7IHZhbHVlOiAyLCBsYWJlbDogXCLntIXmtbcgKOWQjOWTgemhnuaQnOWwi+e1kOaenOW5vueZvuS7tuOAgeWJjeW5vuWQjeW3sue2k+acieWkp+mHj+mKt+mHjylcIiB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogXCJjb252ZXJzaW9uXCIsIGxhYmVsOiBcIumgkOS8sOi9ieaPm+eOh1wiLCB3ZWlnaHQ6IDAuMTAsIGRlc2NyaXB0aW9uOiBcIuW+nueci+WIsOWFp+WuueWIsOS4i+WWruWkp+amgumcgOimgeWkmuS5heeMtuixq+acn++8jOi2iuefreS7o+ihqOi2iuWuueaYk+izo+OAglwiLCBvcHRpb25zOiBbeyB2YWx1ZTogMTAsIGxhYmVsOiBcIumrmCAo5Ymb6ZyAL+ihneWLleWeiy/po5/lk4EpXCIgfSwgeyB2YWx1ZTogNSwgbGFiZWw6IFwi5LitICjooaPniakvM0PphY3ku7YpXCIgfSwgeyB2YWx1ZTogMiwgbGFiZWw6IFwi5L2OICjmsbrnrZbmnJ/plbcv6auY5YO55a626Zu7KVwiIH1dIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiBcInNlYXNvblwiLCBsYWJlbDogXCLlraPnr4DmgKdcIiwgd2VpZ2h0OiAwLjA1LCBkZXNjcmlwdGlvbjogXCLnj77lnKjmmK/lkKbpganlkIjmjqjlu6NcIiwgb3B0aW9uczogW3sgdmFsdWU6IDEwLCBsYWJlbDogXCLlm5vlraPnmoblrpwgKOmVt+WwvilcIiB9LCB7IHZhbHVlOiA4LCBsYWJlbDogXCLnlbblraPnhrHpircgKOeIhueZvOWKm+W8tylcIiB9LCB7IHZhbHVlOiAyLCBsYWJlbDogXCLpnZ7nlbblraMgKOmbo+izoylcIiB9XSB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwi8J+boe+4jyDkv6Hos7ToiIfpqZforYkgKDIwJSlcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwidGV4dC1ncmVlbi02MDBcIixcbiAgICAgICAgICAgICAgICAgICAgYmc6IFwiYmctZ3JlZW4tNTBcIixcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwic2FsZXNcIiwgbGFiZWw6IFwi57Sv56mN6Yq36YePXCIsIHdlaWdodDogMC4xMCwgZGVzY3JpcHRpb246IFwi5biC5aC05piv5ZCm5bey6amX6K2J6Kmy5ZWG5ZOBXCIsIG9wdGlvbnM6IFt7IHZhbHVlOiAxMCwgbGFiZWw6IFwi5pyI6Yq36YePPjUwMCAo5pyJ5biC5aC06ZyA5rGCKVwiIH0sIHsgdmFsdWU6IDUsIGxhYmVsOiBcIuaciOmKt+mHjzQ5OS01MCAo5Ymb6LW35q2lKVwiIH0sIHsgdmFsdWU6IDEsIGxhYmVsOiBcIuaciOmKt+mHjzAtNDkgKOmiqOmaqumrmClcIiB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogXCJyYXRpbmdcIiwgbGFiZWw6IFwi6KmV5YO55YWn5a65XCIsIHdlaWdodDogMC4wNSwgZGVzY3JpcHRpb246IFwi6LK35a625Y+N6aWL5YSq5YqjXCIsIG9wdGlvbnM6IFt7IHZhbHVlOiAxMCwgbGFiZWw6IFwiMTAwMCvoqZXlg7k0LjjmmJ8rXCIgfSwgeyB2YWx1ZTogNSwgbGFiZWw6IFwiMTAwK+ipleWDuTQuMC00LjfmmJ9cIiB9LCB7IHZhbHVlOiAwLCBsYWJlbDogXCLkvY7mlrw05pifIC8g5pyJ6LKg6KmVXCIgfV0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IFwiYnJhbmRcIiwgbGFiZWw6IFwi5ZWG5a625L+h6K29XCIsIHdlaWdodDogMC4wNSwgZGVzY3JpcHRpb246IFwi6LOj5a625piv5ZCm5Y+v6Z2gXCIsIG9wdGlvbnM6IFt7IHZhbHVlOiAxMCwgbGFiZWw6IFwi55+l5ZCN5ZOB54mMIC8g5a6Y5pa55YSq6YG4XCIgfSwgeyB2YWx1ZTogNSwgbGFiZWw6IFwi5LiA6Iis57aT54ef6LOj5a62XCIgfSwgeyB2YWx1ZTogMCwgbGFiZWw6IFwi5paw5biz6JmfIC8g6KmV5YiG5L2OXCIgfV0gfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgY29uc3QgW3Byb2R1Y3ROYW1lLCBzZXRQcm9kdWN0TmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICAgICAgICAgIGNvbnN0IFtwcm9kdWN0VXJsLCBzZXRQcm9kdWN0VXJsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgICAgICAgICAgY29uc3QgW3Njb3Jlcywgc2V0U2NvcmVzXSA9IHVzZVN0YXRlKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IFt0b3RhbFNjb3JlLCBzZXRUb3RhbFNjb3JlXSA9IHVzZVN0YXRlKDApO1xuICAgICAgICAgICAgY29uc3QgW2dyYWRlLCBzZXRHcmFkZV0gPSB1c2VTdGF0ZSh7IGxldmVsOiBcIkNcIiwgY29sb3I6IFwidGV4dC1ncmF5LTUwMFwiLCB0ZXh0OiBcIuaUvuajhCAo6KeA5a+f5Y2AKVwiIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUb2FzdCBTdGF0ZVxuICAgICAgICAgICAgY29uc3QgW3RvYXN0LCBzZXRUb2FzdF0gPSB1c2VTdGF0ZSh7IHNob3c6IGZhbHNlLCBtZXNzYWdlOiAnJywgdHlwZTogJ3N1Y2Nlc3MnIH0pO1xuICAgICAgICAgICAgLy8gTW9kYWwgU3RhdGVcbiAgICAgICAgICAgIGNvbnN0IFttb2RhbFN0YXRlLCBzZXRNb2RhbFN0YXRlXSA9IHVzZVN0YXRlKHsgaXNPcGVuOiBmYWxzZSwgdHlwZTogbnVsbCwgaWQ6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhpc3RvcnkgU3RhdGVcbiAgICAgICAgICAgIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlKFtdKTtcblxuICAgICAgICAgICAgLy8gSGVscGVyIGZvciBUb2FzdFxuICAgICAgICAgICAgY29uc3Qgc2hvd1RvYXN0ID0gKG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb2FzdCh7IHNob3c6IHRydWUsIG1lc3NhZ2UsIHR5cGUgfSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRUb2FzdCh7IC4uLnRvYXN0LCBzaG93OiBmYWxzZSB9KSwgMjAwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBMb2FkIEhpc3RvcnkgZnJvbSBMb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRIaXN0b3J5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FmZmlsaWF0ZV9wcm9kdWN0X2hpc3RvcnknKTtcbiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRIaXN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRIaXN0b3J5KEpTT04ucGFyc2Uoc2F2ZWRIaXN0b3J5KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBoaXN0b3J5XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICAvLyBTYXZlIEhpc3RvcnkgdG8gTG9jYWxTdG9yYWdlIHdoZW4gdXBkYXRlZFxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWZmaWxpYXRlX3Byb2R1Y3RfaGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGhpc3RvcnkpKTtcbiAgICAgICAgICAgIH0sIFtoaXN0b3J5XSk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgY3JpdGVyaWFDb25maWcuZm9yRWFjaChjYXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYXQuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1TY29yZSA9IHNjb3Jlc1tpdGVtLmlkXSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGl0ZW1TY29yZSAqIGl0ZW0ud2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFNjb3JlID0gTWF0aC5yb3VuZChzdW0gKiAxMCk7XG4gICAgICAgICAgICAgICAgc2V0VG90YWxTY29yZShmaW5hbFNjb3JlKTtcblxuICAgICAgICAgICAgICAgIGlmIChmaW5hbFNjb3JlID49IDgwKSBzZXRHcmFkZSh7IGxldmVsOiBcIlNcIiwgY29sb3I6IFwidGV4dC1wdXJwbGUtNjAwXCIsIGJnOiBcImJnLXB1cnBsZS0xMDBcIiwgdGV4dDogXCLlv4XpgbjllYblk4EgKFPntJopXCIgfSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmluYWxTY29yZSA+PSA2NSkgc2V0R3JhZGUoeyBsZXZlbDogXCJBXCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNjAwXCIsIGJnOiBcImJnLWdyZWVuLTEwMFwiLCB0ZXh0OiBcIuWPr+WYl+ippiAoQee0milcIiB9KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaW5hbFNjb3JlID49IDUwKSBzZXRHcmFkZSh7IGxldmVsOiBcIkJcIiwgY29sb3I6IFwidGV4dC15ZWxsb3ctNjAwXCIsIGJnOiBcImJnLXllbGxvdy0xMDBcIiwgdGV4dDogXCLop4Dlr5/ljYAgKELntJopXCIgfSk7XG4gICAgICAgICAgICAgICAgZWxzZSBzZXRHcmFkZSh7IGxldmVsOiBcIkNcIiwgY29sb3I6IFwidGV4dC1yZWQtNTAwXCIsIGJnOiBcImJnLXJlZC0xMDBcIiwgdGV4dDogXCLlu7rorbDmlL7mo4QgKEPntJopXCIgfSk7XG5cbiAgICAgICAgICAgIH0sIFtzY29yZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU2NvcmVDaGFuZ2UgPSAoaWQsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2NvcmVzKHByZXYgPT4gKHsgLi4ucHJldiwgW2lkXTogcGFyc2VJbnQodmFsdWUpIH0pKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIC0tLSBDb25maXJtIEFjdGlvbiBIYW5kbGVycyAtLS1cbiAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJDb25maXJtID0gKHR5cGUsIGlkID0gbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldE1vZGFsU3RhdGUoeyBpc09wZW46IHRydWUsIHR5cGUsIGlkIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ29uZmlybUFjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIGlkIH0gPSBtb2RhbFN0YXRlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnREVMRVRFX0lURU0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEhpc3RvcnkocHJldiA9PiBwcmV2LmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGlkKSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuW3suWIqumZpOe0gOmMhFwiKTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdDTEVBUl9ISVNUT1JZJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi5bey5riF56m65q235Y+y57SA6YyEXCIpO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ1JFU0VUX0ZPUk0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3Jlcyh7fSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFByb2R1Y3ROYW1lKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRQcm9kdWN0VXJsKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLlt7Lph43nva7ooajllq5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldE1vZGFsU3RhdGUoeyBpc09wZW46IGZhbHNlLCB0eXBlOiBudWxsLCBpZDogbnVsbCB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVJlc2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIOWmguaenOihqOWWruaYr+epuueahO+8jOS4jemcgOimgeeiuuiqjVxuICAgICAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKHNjb3JlcykubGVuZ3RoID09PSAwICYmICFwcm9kdWN0TmFtZSAmJiAhcHJvZHVjdFVybCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRyaWdnZXJDb25maXJtKCdSRVNFVF9GT1JNJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzYXZlVG9IaXN0b3J5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbFNjb3JlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuWwmuacquipleWIhu+8jOeEoeazleWEsuWtmFwiLCBcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9kdWN0TmFtZSB8fCBcIuacquWRveWQjeWVhuWTgVwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHByb2R1Y3RVcmwsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiB0b3RhbFNjb3JlLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogZ3JhZGUubGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBncmFkZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgYmc6IGdyYWRlLmJnLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gbGlzdCBhbmQgc29ydCBieSBzY29yZSBkZXNjZW5kaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SGlzdG9yeSA9IFsuLi5oaXN0b3J5LCBuZXdJdGVtXS5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gICAgICAgICAgICAgICAgc2V0SGlzdG9yeShuZXdIaXN0b3J5KTtcbiAgICAgICAgICAgICAgICBzaG93VG9hc3QoXCLlt7LliqDlhaXmuIXllq5cIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3Rvcnktc2VjdGlvbicpLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBkZWxldGVIaXN0b3J5SXRlbSA9IChpZCkgPT4gdHJpZ2dlckNvbmZpcm0oJ0RFTEVURV9JVEVNJywgaWQpO1xuICAgICAgICAgICAgY29uc3QgY2xlYXJIaXN0b3J5ID0gKCkgPT4gdHJpZ2dlckNvbmZpcm0oJ0NMRUFSX0hJU1RPUlknKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlRG93bmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbENvbnRlbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbaHRtbENvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2h0bWwnIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9ICfliIbmvaTpgbjlk4HoqIjnrpfmqZ8uaHRtbCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb3B5UmVzdWx0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gYPCfk4og6YG45ZOB6KmV5Lyw5aCx5ZGKXFxuXFxu8J+TpiDllYblk4HvvJoke3Byb2R1Y3ROYW1lIHx8IFwi5pyq5ZG95ZCN5ZWG5ZOBXCJ9XFxuYDtcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0VXJsKSB0ZXh0ICs9IGDwn5SXIOmAo+e1kO+8miR7cHJvZHVjdFVybH1cXG5gO1xuICAgICAgICAgICAgICAgIHRleHQgKz0gYPCfj4Yg57i95YiG77yaJHt0b3RhbFNjb3JlfSDliIYgWyR7Z3JhZGUubGV2ZWx957SaXVxcbvCfkqEg6KmV5YO577yaJHtncmFkZS50ZXh0fVxcblxcbuips+e0sOW+l+WIhu+8mlxcbiR7Y3JpdGVyaWFDb25maWcubWFwKGNhdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWyR7Y2F0LmNhdGVnb3J5LnNwbGl0KCcgJylbMV19XSBgICsgY2F0Lml0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtpdGVtLmxhYmVsfTogJHtzY29yZXNbaXRlbS5pZF0gfHwgMH1gO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIH0pLmpvaW4oJ1xcbicpfVxcblxcbiPliIbmvaTpgbjlk4FgO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuW3suikh+ijvee1kOaenFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpcGJvYXJkIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tDb3B5KHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0NvcHkodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvcHkgZmFpbGVkJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuikh+ijveWkseaVl++8jOiri+aJi+WLleaIquWcllwiLCBcImVycm9yXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrQ29weSA9ICh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgICAgICAgICAgICAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiOyBcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChcIuW3suikh+ijvee1kOaenFwiKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KFwi54CP6Ka95Zmo5LiN5pSv5o+06Ieq5YuV6KSH6KO9XCIsIFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gcC00IG1pbi1oLXNjcmVlbiBmb250LXNhbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRvYXN0IHNob3c9e3RvYXN0LnNob3d9IG1lc3NhZ2U9e3RvYXN0Lm1lc3NhZ2V9IHR5cGU9e3RvYXN0LnR5cGV9IC8+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8TW9kYWwgXG4gICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e21vZGFsU3RhdGUuaXNPcGVufVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0TW9kYWxTdGF0ZSh7IC4uLm1vZGFsU3RhdGUsIGlzT3BlbjogZmFsc2UgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm09e2hhbmRsZUNvbmZpcm1BY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIueiuuiqjeaTjeS9nFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbFN0YXRlLnR5cGUgPT09ICdERUxFVEVfSVRFTScgPyBcIueiuuWumuimgeWIqumZpOmAmeethue0gOmMhOWXju+8n1wiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbFN0YXRlLnR5cGUgPT09ICdDTEVBUl9ISVNUT1JZJyA/IFwi56K65a6a6KaB5riF56m65omA5pyJ5q235Y+y57SA6YyE5ZeO77yfXCIgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi56K65a6a6KaB5riF56m655W25YmN6KGo5Zau6YG46aCF5ZeO77yfKOatt+WPsue0gOmMhOS4jeacg+WIqumZpClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC02IHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBtYi02IGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25DYWxjdWxhdG9yIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1ibHVlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPumBuOWTgeaxuuetluioiOeul+apnzwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRG93bmxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtc20gdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWJsdWUtNjAwIGJnLWdyYXktNTAgaG92ZXI6YmctYmx1ZS01MCBweC0zIHB5LTEuNSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIuS4i+i8iemboue3mueJiCBIVE1MXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uRG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuS4i+i8iSBBcHA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbVwiPui8uOWFpeWQhOmgheaMh+aome+8jOiHquWLleioiOeul+aOqOW7o+WDueWAvCAoUk9JKeOAgjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj7llYblk4HlkI3nqLEgKOmBuOWhqyk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya54Sh57ea6JeN54mZ6ICz5qmfIFBybyAyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9kdWN0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvZHVjdE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwIG91dGxpbmUtbm9uZSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uTGluayBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5ZWG5ZOB6YCj57WQICjpgbjloaspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInVybFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8vLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9kdWN0VXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9kdWN0VXJsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci1ibHVlLTUwMCBvdXRsaW5lLW5vbmUgdHJhbnNpdGlvbiB0ZXh0LXNtIHRleHQtYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02IG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjcml0ZXJpYUNvbmZpZy5tYXAoKGNhdGVnb3J5LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctc20gb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTQgJHtjYXRlZ29yeS5iZ30gYm9yZGVyLWIgYm9yZGVyLWdyYXktMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbmB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT17YGZvbnQtYm9sZCAke2NhdGVnb3J5LmNvbG9yfSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMmB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeS5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5pZH0gY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCB0ZXh0LWJhc2VcIj57aXRlbS5sYWJlbH08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIGJnLWdyYXktMTAwIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj7mrIrph40ge01hdGgucm91bmQoaXRlbS53ZWlnaHQgKiAxMDApfSU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMlwiPntpdGVtLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5vcHRpb25zLm1hcCgob3B0KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e29wdC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2NvcmVDaGFuZ2UoaXRlbS5pZCwgb3B0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgcC0zIHJvdW5kZWQtbGcgdGV4dC1sZWZ0IHRleHQtc20gdHJhbnNpdGlvbi1hbGwgYm9yZGVyICR7c2NvcmVzW2l0ZW0uaWRdID09PSBvcHQudmFsdWUgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTcwMCBmb250LW1lZGl1bSByaW5nLTEgcmluZy1ibHVlLTUwMCcgOiAnYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktNTAgdGV4dC1ncmF5LTYwMCd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdy1mdWxsIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e29wdC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2NvcmVzW2l0ZW0uaWRdID09PSBvcHQudmFsdWUgJiYgPEljb25DaGVja0NpcmNsZTIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWJsdWUtNjAwXCIgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBIaXN0b3J5IFNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIHtoaXN0b3J5Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImhpc3Rvcnktc2VjdGlvblwiIGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMTAwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmF5LTUwIGJvcmRlci1iIGJvcmRlci1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktNzAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkxpc3QgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpgbjlk4HmmqvlrZjmuIXllq4gKHtoaXN0b3J5Lmxlbmd0aH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2xlYXJIaXN0b3J5fSBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTUwMCBob3Zlcjp0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIHB4LTIgcHktMSByb3VuZGVkIHRyYW5zaXRpb25cIj7muIXnqbo8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpc3RvcnktbGlzdC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hpc3RvcnkubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS0xMDAgbGFzdDpib3JkZXItMCBob3ZlcjpiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB3LTggaC04IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIGZvbnQtYm9sZCAke2l0ZW0uYmd9ICR7aXRlbS5jb2xvcn1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMCBsaW5lLWNsYW1wLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS51cmwgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2l0ZW0udXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgY2xhc3NOYW1lPVwiaG92ZXI6dGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e2l0ZW0ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkV4dGVybmFsTGluayBjbGFzc05hbWU9XCJ3LTMgaC0zIGZsZXgtc2hyaW5rLTAgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPntpdGVtLmRhdGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1ib2xkICR7aXRlbS5jb2xvcn0gdy0xMiB0ZXh0LXJpZ2h0YH0+e2l0ZW0uc2NvcmV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZGVsZXRlSGlzdG9yeUl0ZW0oaXRlbS5pZCl9IGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDAgaG92ZXI6dGV4dC1yZWQtNTAwIHAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25UcmFzaCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogU3BhY2VyIGZvciBmaXhlZCBmb290ZXIgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC00OCB3LWZ1bGxcIj48L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogRm9vdGVyIEFjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgYmctd2hpdGUgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIHAtNCBzaGFkb3ctbGcgei01MCBzYWZlLWFyZWEtYm90dG9tXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIGZsZXggZmxleC1jb2wgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWJhc2VsaW5lIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPue4veipleWIhjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LTN4bCBmb250LWJvbGQgJHtncmFkZS5jb2xvcn1gfT57dG90YWxTY29yZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+LyAxMDA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LWJvbGQgJHtncmFkZS5jb2xvcn0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3JhZGUubGV2ZWwgPT09ICdTJyAmJiA8SWNvbkF3YXJkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3JhZGUubGV2ZWwgPT09ICdDJyAmJiA8SWNvbkFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3JhZGUudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtzYXZlVG9IaXN0b3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtNCBweS0yIGJnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtZ3JheS03MDAgcm91bmRlZC14bCBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBtci0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25TYXZlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPuWKoOWFpea4heWWrjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlUmVzZXR9IGNsYXNzTmFtZT1cInAtMyB0ZXh0LWdyYXktNTAwIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgYmctZ3JheS01MCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGZsZXgtbm9uZVwiIHRpdGxlPVwi6YeN572uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblJvdGF0ZUNjdyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y29weVJlc3VsdH0gY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHB4LTYgcHktMyByb3VuZGVkLXhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS05NSBzaGFkb3ctbWQgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQ29weSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz7opIfoo73ntZDmnpxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICAgICByb290LnJlbmRlcig8QWZmaWxpYXRlU2NvcmVDYWxjdWxhdG9yIC8+KTtcbiAgICAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNRLElBQUFBLE1BQUEsR0FBZ0NDLEtBQUs7RUFBN0JDLFFBQVEsR0FBQUYsTUFBQSxDQUFSRSxRQUFRO0VBQUVDLFNBQVMsR0FBQUgsTUFBQSxDQUFURyxTQUFTOztBQUUzQjtBQUNBLElBQU1DLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBQUMsSUFBQTtFQUFBLElBQU1DLFNBQVMsR0FBQUQsSUFBQSxDQUFUQyxTQUFTO0VBQUEsb0JBQy9CTCxLQUFBLENBQUFNLGFBQUE7SUFBS0MsS0FBSyxFQUFDLDRCQUE0QjtJQUFDQyxLQUFLLEVBQUMsSUFBSTtJQUFDQyxNQUFNLEVBQUMsSUFBSTtJQUFDQyxPQUFPLEVBQUMsV0FBVztJQUFDQyxJQUFJLEVBQUMsTUFBTTtJQUFDQyxNQUFNLEVBQUMsY0FBYztJQUFDQyxXQUFXLEVBQUMsR0FBRztJQUFDQyxhQUFhLEVBQUMsT0FBTztJQUFDQyxjQUFjLEVBQUMsT0FBTztJQUFDVixTQUFTLEVBQUVBO0VBQVUsZ0JBQUNMLEtBQUEsQ0FBQU0sYUFBQTtJQUFNRSxLQUFLLEVBQUMs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SUFBSTtJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQXRCLEtBQUEsQ0FBQU0sYUFBQTtJQUFNYSxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUM7RUFBSSxDQUFDLENBQUMsZUFBQXRCLEtBQUEsQ0FBQU0sYUFBQTtJQUFNYSxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUM7RUFBSSxDQUFDLENBQUMsZUFBQXRCLEtBQUEsQ0FBQU0sYUFBQTtJQUFNYSxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsTUFBTTtJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQXRCLEtBQUEsQ0FBQU0sYUFBQTtJQUFNYSxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsTUFBTTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUM7RUFBSSxDQUFDLENBQUMsZUFBQXRCLEtBQUEsQ0FBQU0sYUFBQTtJQUFNYSxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsTUFBTTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUM7RUFBSSxDQUFDLENBQU0sQ0FBQztBQUFBLENBQ3ZiO0FBQ0QsSUFBTXlCLFFBQVEsR0FBRyxTQUFYQSxRQUFRQSxDQUFBQyxLQUFBO0VBQUEsSUFBTTNDLFNBQVMsR0FBQTJDLEtBQUEsQ0FBVDNDLFNBQVM7RUFBQSxvQkFDekJMLEtBQUEsQ0FBQU0sYUFBQTtJQUFLQyxLQUFLLEVBQUMsNEJBQTRCO0lBQUNDLEtBQUssRUFBQyxJQUFJO0lBQUNDLE1BQU0sRUFBQyxJQUFJO0lBQUNDLE9BQU8sRUFBQyxXQUFXO0lBQUNDLElBQUksRUFBQyxNQUFNO0lBQUNDLE1BQU0sRUFBQyxjQUFj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</script></head>
<body class="bg-gray-50 text-gray-900">
    <div id="root"><div class="max-w-2xl mx-auto p-4 min-h-screen font-sans"><div class="bg-white p-6 rounded-2xl shadow-sm mb-6 border border-gray-100"><div class="flex justify-between items-start mb-4"><div class="flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 text-blue-600"><rect width="16" height="20" x="4" y="2" rx="2"></rect><line x1="8" x2="16" y1="6" y2="6"></line><line x1="16" x2="16" y1="14" y2="18"></line><path d="M16 10h.01"></path><path d="M12 10h.01"></path><path d="M8 10h.01"></path><path d="M12 14h.01"></path><path d="M8 14h.01"></path><path d="M12 18h.01"></path><path d="M8 18h.01"></path></svg><h1 class="text-2xl font-bold text-gray-800">選品決策計算機</h1></div><button class="flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-gray-200" title="下載離線版 HTML"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg><span>下載 App</span></button></div><p class="text-gray-500 text-sm">輸入各項指標，自動計算推廣價值 (ROI)。</p><div class="mt-4 space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-1">商品名稱 (選填)</label><input type="text" placeholder="例如：無線藍牙耳機 Pro 2" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition" value="123"></div><div><label class="block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-gray-500"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>商品連結 (選填)</label><input type="url" placeholder="https://..." class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-blue-600" value="https://s.shopee.tw/2VkNxsjAAO"></div></div></div><div class="space-y-6 mb-6"><div class="bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100"><div class="p-4 bg-blue-50 border-b border-gray-100 flex items-center justify-between"><h2 class="font-bold text-blue-600 flex items-center gap-2">💰 獲利與成本 (40%)</h2></div><div class="p-4 space-y-6"><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">分潤率(只看商家的)</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 20%</span></div><p class="text-xs text-gray-500 mb-2">該商品的推廣佣金比例</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-blue-500 bg-blue-50 text-blue-700 font-medium ring-1 ring-blue-500"><div class="flex justify-between w-full items-center"><span>極高 (&gt;20%)</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-blue-600"><circle cx="12" cy="12" r="10"></circle><path d="m9 12 2 2 4-4"></path></svg></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>高 (10-19%)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>一般 (5-9%)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>低 (&lt;4%)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">售價 (客單價)</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 10%</span></div><p class="text-xs text-gray-500 mb-2">商品單價是否容易推廣且有獲利空間</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>甜蜜點 ($400-$1000)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>高單價 (&gt;$1001)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>低單價 (&lt;$399)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">運費門檻</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 10%</span></div><p class="text-xs text-gray-500 mb-2">運費是否會阻礙下單</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>全館免運 / 極低門檻</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>滿額免運 (正常門檻)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>運費高 / 無免運</span></div></button></div></div></div></div><div class="bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100"><div class="p-4 bg-orange-50 border-b border-gray-100 flex items-center justify-between"><h2 class="font-bold text-orange-600 flex items-center gap-2">🔥 市場潛力 (40%)</h2></div><div class="p-4 space-y-6"><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">產品特色</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 15%</span></div><p class="text-xs text-gray-500 mb-2">是否有賣點、痛點解決能力</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>獨家 / 痛點強 / 新奇特</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>微創新 / 常見商品</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>大眾普貨 (紅海)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">競品數量</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 10%</span></div><p class="text-xs text-gray-500 mb-2">市場競爭激烈程度</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>藍海 (同品類競品 &lt;5 個、且無明顯頭部賣家)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>一般 (有競品但不多)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>紅海 (同品類搜尋結果幾百件、前幾名已經有大量銷量)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">預估轉換率</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 10%</span></div><p class="text-xs text-gray-500 mb-2">從看到內容到下單大概需要多久猶豫期，越短代表越容易賣。</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>高 (剛需/衝動型/食品)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>中 (衣物/3C配件)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>低 (決策期長/高價家電)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">季節性</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 5%</span></div><p class="text-xs text-gray-500 mb-2">現在是否適合推廣</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>四季皆宜 (長尾)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>當季熱銷 (爆發力強)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>非當季 (難賣)</span></div></button></div></div></div></div><div class="bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100"><div class="p-4 bg-green-50 border-b border-gray-100 flex items-center justify-between"><h2 class="font-bold text-green-600 flex items-center gap-2">🛡️ 信賴與驗證 (20%)</h2></div><div class="p-4 space-y-6"><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">累積銷量</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 10%</span></div><p class="text-xs text-gray-500 mb-2">市場是否已驗證該商品</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>月銷量&gt;500 (有市場需求)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>月銷量499-50 (剛起步)</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>月銷量0-49 (風險高)</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">評價內容</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 5%</span></div><p class="text-xs text-gray-500 mb-2">買家反饋優劣</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>1000+評價4.8星+</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>100+評價4.0-4.7星</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>低於4星 / 有負評</span></div></button></div></div><div class="space-y-2"><div class="flex justify-between items-center"><label class="font-medium text-gray-700 text-base">商家信譽</label><span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 5%</span></div><p class="text-xs text-gray-500 mb-2">賣家是否可靠</p><div class="grid grid-cols-1 gap-2"><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>知名品牌 / 官方優選</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>一般經營賣家</span></div></button><button class="relative p-3 rounded-lg text-left text-sm transition-all border border-gray-200 hover:bg-gray-50 text-gray-600"><div class="flex justify-between w-full items-center"><span>新帳號 / 評分低</span></div></button></div></div></div></div></div><div id="history-section" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden"><div class="p-4 bg-gray-50 border-b border-gray-100 flex items-center justify-between"><h2 class="font-bold text-gray-700 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg>選品暫存清單 (1)</h2><button class="text-xs text-red-500 hover:text-red-600 hover:bg-red-50 px-2 py-1 rounded transition">清空</button></div><div class="history-list-container"><div class="p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 flex items-center justify-between group"><div class="flex items-center gap-3 overflow-hidden"><div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold bg-red-100 text-red-500">1</div><div class="min-w-0"><div class="font-medium text-gray-800 line-clamp-1"><a href="https://s.shopee.tw/2VkNxsjAAO" target="_blank" rel="noopener noreferrer" class="hover:text-blue-600 hover:underline flex items-center gap-1"><span class="truncate">123</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 flex-shrink-0 text-gray-400"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg></a></div><div class="text-xs text-gray-400">2025/12/3</div></div></div><div class="flex items-center gap-3 flex-shrink-0"><div class="text-lg font-bold text-red-500 w-12 text-right">20</div><button class="text-gray-300 hover:text-red-500 p-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg></button></div></div></div></div><div class="h-48 w-full"></div><div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-50 safe-area-bottom"><div class="max-w-2xl mx-auto flex flex-col gap-3"><div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-baseline gap-2"><span class="text-xs text-gray-500 uppercase tracking-wider">總評分</span><span class="text-3xl font-bold text-red-500">20</span><span class="text-sm text-gray-400">/ 100</span></div><div class="text-sm font-bold text-red-500 flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>建議放棄 (C級)</div></div><button class="flex items-center gap-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors mr-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg><span class="hidden sm:inline">加入清單</span></button></div><div class="flex gap-2 w-full"><button class="p-3 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors bg-gray-50 border border-gray-200 flex-none" title="重置"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg></button><button class="flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold text-white transition-all active:scale-95 shadow-md bg-blue-600 hover:bg-blue-700"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>複製結果</button></div></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons Components (SVG) ---
        const IconCalculator = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
        );
        const IconCopy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
        );
        const IconRotateCcw = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
        );
        const IconCheckCircle2 = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
        );
        const IconAward = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
        );
        const IconAlertCircle = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
        );
        const IconDownload = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
        );
        const IconSave = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
        );
        const IconTrash = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
        );
        const IconList = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="8" x2="21" y1="6" y2="6"/><line x1="8" x2="21" y1="12" y2="12"/><line x1="8" x2="21" y1="18" y2="18"/><line x1="3" x2="3.01" y1="6" y2="6"/><line x1="3" x2="3.01" y1="12" y2="12"/><line x1="3" x2="3.01" y1="18" y2="18"/></svg>
        );
        const IconLink = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
        );
        const IconExternalLink = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
        );

        // --- Custom Modal Component (Replaces window.confirm) ---
        const Modal = ({ isOpen, onClose, onConfirm, title, message }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in">
                    <div className="bg-white rounded-2xl shadow-xl w-full max-w-sm p-6 animate-scale-in">
                        <h3 className="text-lg font-bold text-gray-900 mb-2">{title}</h3>
                        <p className="text-gray-600 mb-6">{message}</p>
                        <div className="flex justify-end gap-3">
                            <button 
                                onClick={onClose}
                                className="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-xl transition font-medium"
                            >
                                取消
                            </button>
                            <button 
                                onClick={onConfirm}
                                className="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl transition font-bold"
                            >
                                確定
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Toast Component (Replaces window.alert) ---
        const Toast = ({ show, message, type = 'success' }) => {
            if (!show) return null;
            return (
                <div className="fixed top-6 left-1/2 transform -translate-x-1/2 z-[70] animate-fade-in">
                    <div className={`px-6 py-3 rounded-full shadow-lg flex items-center gap-2 text-white font-medium ${type === 'error' ? 'bg-red-500' : 'bg-gray-800'}`}>
                        {type === 'error' ? <IconAlertCircle className="w-5 h-5"/> : <IconCheckCircle2 className="w-5 h-5"/>}
                        {message}
                    </div>
                </div>
            );
        };

        // --- Main Component ---
        const AffiliateScoreCalculator = () => {
            const criteriaConfig = [
                {
                    category: "💰 獲利與成本 (40%)",
                    color: "text-blue-600",
                    bg: "bg-blue-50",
                    items: [
                        { id: "commission", label: "分潤率(只看商家的)", weight: 0.20, description: "該商品的推廣佣金比例", options: [{ value: 10, label: "極高 (>20%)" }, { value: 7, label: "高 (10-19%)" }, { value: 5, label: "一般 (5-9%)" }, { value: 2, label: "低 (<4%)" }] },
                        { id: "price", label: "售價 (客單價)", weight: 0.10, description: "商品單價是否容易推廣且有獲利空間", options: [{ value: 10, label: "甜蜜點 ($400-$1000)" }, { value: 7, label: "高單價 (>$1001)" }, { value: 3, label: "低單價 (<$399)" }] },
                        { id: "shipping", label: "運費門檻", weight: 0.10, description: "運費是否會阻礙下單", options: [{ value: 10, label: "全館免運 / 極低門檻" }, { value: 5, label: "滿額免運 (正常門檻)" }, { value: 0, label: "運費高 / 無免運" }] }
                    ]
                },
                {
                    category: "🔥 市場潛力 (40%)",
                    color: "text-orange-600",
                    bg: "bg-orange-50",
                    items: [
                        { id: "feature", label: "產品特色", weight: 0.15, description: "是否有賣點、痛點解決能力", options: [{ value: 10, label: "獨家 / 痛點強 / 新奇特" }, { value: 5, label: "微創新 / 常見商品" }, { value: 1, label: "大眾普貨 (紅海)" }] },
                        { id: "competitor", label: "競品數量", weight: 0.10, description: "市場競爭激烈程度", options: [{ value: 10, label: "藍海 (同品類競品 <5 個、且無明顯頭部賣家)" }, { value: 6, label: "一般 (有競品但不多)" }, { value: 2, label: "紅海 (同品類搜尋結果幾百件、前幾名已經有大量銷量)" }] },
                        { id: "conversion", label: "預估轉換率", weight: 0.10, description: "從看到內容到下單大概需要多久猶豫期，越短代表越容易賣。", options: [{ value: 10, label: "高 (剛需/衝動型/食品)" }, { value: 5, label: "中 (衣物/3C配件)" }, { value: 2, label: "低 (決策期長/高價家電)" }] },
                        { id: "season", label: "季節性", weight: 0.05, description: "現在是否適合推廣", options: [{ value: 10, label: "四季皆宜 (長尾)" }, { value: 8, label: "當季熱銷 (爆發力強)" }, { value: 2, label: "非當季 (難賣)" }] }
                    ]
                },
                {
                    category: "🛡️ 信賴與驗證 (20%)",
                    color: "text-green-600",
                    bg: "bg-green-50",
                    items: [
                        { id: "sales", label: "累積銷量", weight: 0.10, description: "市場是否已驗證該商品", options: [{ value: 10, label: "月銷量>500 (有市場需求)" }, { value: 5, label: "月銷量499-50 (剛起步)" }, { value: 1, label: "月銷量0-49 (風險高)" }] },
                        { id: "rating", label: "評價內容", weight: 0.05, description: "買家反饋優劣", options: [{ value: 10, label: "1000+評價4.8星+" }, { value: 5, label: "100+評價4.0-4.7星" }, { value: 0, label: "低於4星 / 有負評" }] },
                        { id: "brand", label: "商家信譽", weight: 0.05, description: "賣家是否可靠", options: [{ value: 10, label: "知名品牌 / 官方優選" }, { value: 5, label: "一般經營賣家" }, { value: 0, label: "新帳號 / 評分低" }] }
                    ]
                }
            ];

            const [productName, setProductName] = useState("");
            const [productUrl, setProductUrl] = useState("");
            const [scores, setScores] = useState({});
            const [totalScore, setTotalScore] = useState(0);
            const [grade, setGrade] = useState({ level: "C", color: "text-gray-500", text: "放棄 (觀察區)" });
            
            // Toast State
            const [toast, setToast] = useState({ show: false, message: '', type: 'success' });
            // Modal State
            const [modalState, setModalState] = useState({ isOpen: false, type: null, id: null });
            
            // History State
            const [history, setHistory] = useState([]);

            // Helper for Toast
            const showToast = (message, type = 'success') => {
                setToast({ show: true, message, type });
                setTimeout(() => setToast({ ...toast, show: false }), 2000);
            };

            // Load History from LocalStorage
            useEffect(() => {
                const savedHistory = localStorage.getItem('affiliate_product_history');
                if (savedHistory) {
                    try {
                        setHistory(JSON.parse(savedHistory));
                    } catch (e) {
                        console.error("Failed to load history", e);
                    }
                }
            }, []);

            // Save History to LocalStorage when updated
            useEffect(() => {
                localStorage.setItem('affiliate_product_history', JSON.stringify(history));
            }, [history]);

            useEffect(() => {
                let sum = 0;
                criteriaConfig.forEach(cat => {
                    cat.items.forEach(item => {
                        const itemScore = scores[item.id] || 0;
                        sum += itemScore * item.weight;
                    });
                });
                const finalScore = Math.round(sum * 10);
                setTotalScore(finalScore);

                if (finalScore >= 80) setGrade({ level: "S", color: "text-purple-600", bg: "bg-purple-100", text: "必選商品 (S級)" });
                else if (finalScore >= 65) setGrade({ level: "A", color: "text-green-600", bg: "bg-green-100", text: "可嘗試 (A級)" });
                else if (finalScore >= 50) setGrade({ level: "B", color: "text-yellow-600", bg: "bg-yellow-100", text: "觀察區 (B級)" });
                else setGrade({ level: "C", color: "text-red-500", bg: "bg-red-100", text: "建議放棄 (C級)" });

            }, [scores]);

            const handleScoreChange = (id, value) => {
                setScores(prev => ({ ...prev, [id]: parseInt(value) }));
            };

            // --- Confirm Action Handlers ---
            const triggerConfirm = (type, id = null) => {
                setModalState({ isOpen: true, type, id });
            };

            const handleConfirmAction = () => {
                const { type, id } = modalState;
                
                if (type === 'DELETE_ITEM') {
                    setHistory(prev => prev.filter(item => item.id !== id));
                    showToast("已刪除紀錄");
                } 
                else if (type === 'CLEAR_HISTORY') {
                    setHistory([]);
                    showToast("已清空歷史紀錄");
                } 
                else if (type === 'RESET_FORM') {
                    setScores({});
                    setProductName("");
                    setProductUrl("");
                    showToast("已重置表單");
                }
                
                setModalState({ isOpen: false, type: null, id: null });
            };

            const handleReset = () => {
                // 如果表單是空的，不需要確認
                if(Object.keys(scores).length === 0 && !productName && !productUrl) return;
                triggerConfirm('RESET_FORM');
            };

            const saveToHistory = () => {
                if (totalScore === 0) {
                    showToast("尚未評分，無法儲存", "error");
                    return;
                }
                const newItem = {
                    id: Date.now(),
                    name: productName || "未命名商品",
                    url: productUrl,
                    score: totalScore,
                    level: grade.level,
                    color: grade.color,
                    bg: grade.bg,
                    date: new Date().toLocaleDateString()
                };
                
                // Add to list and sort by score descending
                const newHistory = [...history, newItem].sort((a, b) => b.score - a.score);
                setHistory(newHistory);
                showToast("已加入清單");
                
                // Scroll to history
                setTimeout(() => {
                    document.getElementById('history-section').scrollIntoView({ behavior: 'smooth' });
                }, 100);
            };

            const deleteHistoryItem = (id) => triggerConfirm('DELETE_ITEM', id);
            const clearHistory = () => triggerConfirm('CLEAR_HISTORY');

            const handleDownload = () => {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = '分潤選品計算機.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const copyResult = () => {
                let text = `📊 選品評估報告\n\n📦 商品：${productName || "未命名商品"}\n`;
                if(productUrl) text += `🔗 連結：${productUrl}\n`;
                text += `🏆 總分：${totalScore} 分 [${grade.level}級]\n💡 評價：${grade.text}\n\n詳細得分：\n${criteriaConfig.map(cat => {
                    return `[${cat.category.split(' ')[1]}] ` + cat.items.map(item => {
                        return `${item.label}: ${scores[item.id] || 0}`;
                    }).join(', ');
                }).join('\n')}\n\n#分潤選品`;

                try {
                    if (navigator.clipboard && navigator.clipboard.writeText) {
                        navigator.clipboard.writeText(text).then(() => {
                            showToast("已複製結果");
                        }).catch(err => {
                            console.error('Clipboard failed', err);
                            fallbackCopy(text);
                        });
                    } else {
                        fallbackCopy(text);
                    }
                } catch (e) {
                    console.error('Copy failed', e);
                    showToast("複製失敗，請手動截圖", "error");
                }
            };
            
            const fallbackCopy = (text) => {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed"; 
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast("已複製結果");
                } catch (err) {
                    showToast("瀏覽器不支援自動複製", "error");
                }
                document.body.removeChild(textArea);
            }

            return (
                <div className="max-w-2xl mx-auto p-4 min-h-screen font-sans">
                    <Toast show={toast.show} message={toast.message} type={toast.type} />
                    
                    <Modal 
                        isOpen={modalState.isOpen}
                        onClose={() => setModalState({ ...modalState, isOpen: false })}
                        onConfirm={handleConfirmAction}
                        title="確認操作"
                        message={
                            modalState.type === 'DELETE_ITEM' ? "確定要刪除這筆紀錄嗎？" :
                            modalState.type === 'CLEAR_HISTORY' ? "確定要清空所有歷史紀錄嗎？" :
                            "確定要清空當前表單選項嗎？(歷史紀錄不會刪除)"
                        }
                    />

                    <div className="bg-white p-6 rounded-2xl shadow-sm mb-6 border border-gray-100">
                        <div className="flex justify-between items-start mb-4">
                            <div className="flex items-center gap-3">
                                <IconCalculator className="w-8 h-8 text-blue-600" />
                                <h1 className="text-2xl font-bold text-gray-800">選品決策計算機</h1>
                            </div>
                            <button 
                                onClick={handleDownload}
                                className="flex items-center gap-1 text-sm text-gray-500 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-gray-200"
                                title="下載離線版 HTML"
                            >
                                <IconDownload className="w-4 h-4" />
                                <span>下載 App</span>
                            </button>
                        </div>
                        <p className="text-gray-500 text-sm">輸入各項指標，自動計算推廣價值 (ROI)。</p>
                        <div className="mt-4 space-y-3">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">商品名稱 (選填)</label>
                                <input
                                    type="text"
                                    placeholder="例如：無線藍牙耳機 Pro 2"
                                    value={productName}
                                    onChange={(e) => setProductName(e.target.value)}
                                    className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1">
                                    <IconLink className="w-4 h-4 text-gray-500" />
                                    商品連結 (選填)
                                </label>
                                <input
                                    type="url"
                                    placeholder="https://..."
                                    value={productUrl}
                                    onChange={(e) => setProductUrl(e.target.value)}
                                    className="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm text-blue-600"
                                />
                            </div>
                        </div>
                    </div>

                    <div className="space-y-6 mb-6">
                        {criteriaConfig.map((category, idx) => (
                            <div key={idx} className="bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100">
                                <div className={`p-4 ${category.bg} border-b border-gray-100 flex items-center justify-between`}>
                                    <h2 className={`font-bold ${category.color} flex items-center gap-2`}>
                                        {category.category}
                                    </h2>
                                </div>
                                <div className="p-4 space-y-6">
                                    {category.items.map((item) => (
                                        <div key={item.id} className="space-y-2">
                                            <div className="flex justify-between items-center">
                                                <label className="font-medium text-gray-700 text-base">{item.label}</label>
                                                <span className="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full">權重 {Math.round(item.weight * 100)}%</span>
                                            </div>
                                            <p className="text-xs text-gray-500 mb-2">{item.description}</p>
                                            <div className="grid grid-cols-1 gap-2">
                                                {item.options.map((opt) => (
                                                    <button
                                                        key={opt.value}
                                                        onClick={() => handleScoreChange(item.id, opt.value)}
                                                        className={`relative p-3 rounded-lg text-left text-sm transition-all border ${scores[item.id] === opt.value ? 'border-blue-500 bg-blue-50 text-blue-700 font-medium ring-1 ring-blue-500' : 'border-gray-200 hover:bg-gray-50 text-gray-600'}`}
                                                    >
                                                        <div className="flex justify-between w-full items-center">
                                                            <span>{opt.label}</span>
                                                            {scores[item.id] === opt.value && <IconCheckCircle2 className="w-4 h-4 text-blue-600" />}
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* History Section */}
                    {history.length > 0 && (
                        <div id="history-section" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                             <div className="p-4 bg-gray-50 border-b border-gray-100 flex items-center justify-between">
                                <h2 className="font-bold text-gray-700 flex items-center gap-2">
                                    <IconList className="w-5 h-5" />
                                    選品暫存清單 ({history.length})
                                </h2>
                                <button onClick={clearHistory} className="text-xs text-red-500 hover:text-red-600 hover:bg-red-50 px-2 py-1 rounded transition">清空</button>
                            </div>
                            <div className="history-list-container">
                                {history.map((item, index) => (
                                    <div key={item.id} className="p-4 border-b border-gray-100 last:border-0 hover:bg-gray-50 flex items-center justify-between group">
                                        <div className="flex items-center gap-3 overflow-hidden">
                                            <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${item.bg} ${item.color}`}>
                                                {index + 1}
                                            </div>
                                            <div className="min-w-0">
                                                <div className="font-medium text-gray-800 line-clamp-1">
                                                    {item.url ? (
                                                        <a href={item.url} target="_blank" rel="noopener noreferrer" className="hover:text-blue-600 hover:underline flex items-center gap-1">
                                                            <span className="truncate">{item.name}</span>
                                                            <IconExternalLink className="w-3 h-3 flex-shrink-0 text-gray-400" />
                                                        </a>
                                                    ) : (
                                                        item.name
                                                    )}
                                                </div>
                                                <div className="text-xs text-gray-400">{item.date}</div>
                                            </div>
                                        </div>
                                        <div className="flex items-center gap-3 flex-shrink-0">
                                            <div className={`text-lg font-bold ${item.color} w-12 text-right`}>{item.score}</div>
                                            <button onClick={() => deleteHistoryItem(item.id)} className="text-gray-300 hover:text-red-500 p-1">
                                                <IconTrash className="w-4 h-4" />
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Spacer for fixed footer */}
                    <div className="h-48 w-full"></div>

                    {/* Footer Actions */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-50 safe-area-bottom">
                        <div className="max-w-2xl mx-auto flex flex-col gap-3">
                            <div className="flex items-center justify-between">
                                <div className="flex-1">
                                    <div className="flex items-baseline gap-2">
                                        <span className="text-xs text-gray-500 uppercase tracking-wider">總評分</span>
                                        <span className={`text-3xl font-bold ${grade.color}`}>{totalScore}</span>
                                        <span className="text-sm text-gray-400">/ 100</span>
                                    </div>
                                    <div className={`text-sm font-bold ${grade.color} flex items-center gap-1`}>
                                        {grade.level === 'S' && <IconAward className="w-4 h-4" />}
                                        {grade.level === 'C' && <IconAlertCircle className="w-4 h-4" />}
                                        {grade.text}
                                    </div>
                                </div>
                                
                                <button 
                                    onClick={saveToHistory}
                                    className="flex items-center gap-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors mr-2"
                                >
                                    <IconSave className="w-5 h-5" />
                                    <span className="hidden sm:inline">加入清單</span>
                                </button>
                            </div>

                            <div className="flex gap-2 w-full">
                                <button onClick={handleReset} className="p-3 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors bg-gray-50 border border-gray-200 flex-none" title="重置">
                                    <IconRotateCcw className="w-5 h-5" />
                                </button>
                                <button onClick={copyResult} className="flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-bold text-white transition-all active:scale-95 shadow-md bg-blue-600 hover:bg-blue-700">
                                    <IconCopy className="w-5 h-5" />複製結果
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AffiliateScoreCalculator />);
    </script>

</body></html>